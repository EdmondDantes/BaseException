# Introduction

**BaseException** - библиотека унификации исключений в *PHP*.

**BaseException** решает задачи:

1. Структурирование информации об исключении.
2. Аспектирование исключений.
3. Нормализация исключений при помощи "контейнеров".
4. Регистрация исключений в глобальном реестре.

## Структурирование информации

Базовый класс `\Exception` не позволяет хранить в исключении структуры данных, и после использовать их для анализа. **BaseException** даёт возможность передавать в исключение хэш-массив, тем самым создавая произвольные структуры. Эти данные являются контекстом исключения.

## Поддержка шаблонов сообщений

**BaseException** поддерживает концепцию *шаблона сообщения* (начиная с версии 2.0). Шаблон сообщения - это строка, содержащая *placeholders*, которые заменяются на значения данных из контекста исключения. Формат шаблона соответствует [PSR-3](https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-3-logger-interface.md).

## Аспектирование исключений

Аспект - это класс характеристик исключения, который позволяет обобщать код и задачи по обработке исключений. Например, аспекты позволяют ответить на вопросы:

- кто виноват: программист или система;
- что делать: игнорировать проблему или немедленно решать.

## Нормализация исключений

Нормализация исключений - это поддержка системой ограниченного числа выброшенных исключений. Она может достигаться методами:

1. Наследование.
2. Привидение к контейнеру.
3. Интерфейсы.

Например, привидение к контейнеру:

```php
    try
    {
        ...
    }
    catch(\Exception $e)
    {
        // BaseException наследует характеристики $e
        throw new BaseException($e);
    }
```

## Регистрация исключений

Одной из самых важных причин создания **BaseException** была регистрация исключения в конструкторе. Такой подход гарантирует, что если программист решил сохранить исключение в журнале, то оно "скорее всего" туда попадёт. Это значит, что если исключение перехвачено и подавлено, оно всё равно попадёт в журнал.

Таким образом **BaseException** заставляет задуматься над журналированием исключений в момент написания класса исключения. Для этого библиотека предоставляет простые способы управления журналированием исключений в виде методов `BaseException::is_loggable()` и `BaseException::set_loggable()`, а так же готовых классов.

## Небольшая библиотека готовых исключений

Кроме реализации сервисного кода, **BaseException** так же содержит небольшой список готовых классов для создания типичных исключений.
